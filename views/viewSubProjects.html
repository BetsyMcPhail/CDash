<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html lang="en" ng-app="CDash">
  <head ng-controller="HeadController">
    <title ng-bind="title">CDash</title>
    <meta name="robots" content="noindex,nofollow" />
    <link rel="shortcut icon" href="favicon.ico" />
    <link rel="stylesheet" type="text/css" ng-href="{{cssfile}}" />

    <script src="javascript/angular.min.js"></script>
    <script src="javascript/angular-animate.min.js"></script>
    <script src="javascript/angular-ui-sortable.min.js"></script>
    <script src="javascript/cdash_angular.js"></script>
    <script src="javascript/controllers/head.js"></script>
    <script src="javascript/controllers/viewSubProjects.js"></script>
    <script src="javascript/controllers/filters.js"></script>

  </head>

  <body ng-controller="ViewSubProjectsController">
    <ng-include src="'views/partials/header.html'"></ng-include>

    <table ng-show="cdash.banners.length > 0" border="0" width="100%">
      <tr ng-repeat="banner in cdash.banners" bgcolor="#DDDDDD">
        <td align="center" width="100%" colspan="2">
          <b>{{banner.text}}</b>
        </td>
      </tr>
    </table>

    <br/>

    <!-- Project table -->
    <table border="0" cellpadding="4" cellspacing="0" width="100%"  class="tabb" >
      <!-- Display the project -->
      <tr class="table-heading1">
        <td colspan="11" align="left" class="nob">
          <h3>Project</h3>
        </td>
      </tr>

      <tr class="table-heading">
        <td align="center" rowspan="2" width="20%"><b>Project</b></td>
        <td align="center" colspan="3" width="20%"><b>Configure</b></td>
        <td align="center" colspan="3" width="20%"><b>Build</b></td>
        <td align="center" colspan="3" width="20%"><b>Test</b></td>
        <td ng-show="cdash.showlastsubmission == 1" align="center" rowspan="2" width="20%" class="nob">
          <b>Last submission</b>
        </td>
      </tr>

      <tr class="table-heading">
        <td align="center"><b>Error</b></td>
        <td align="center"><b>Warning</b></td>
        <td align="center"><b>Pass</b></td>
        <td align="center"><b>Error</b></td>
        <td align="center"><b>Warning</b></td>
        <td align="center"><b>Pass</b></td>
        <td align="center"><b>Not Run</b></td>
        <td align="center"><b>Fail</b></td>
        <td align="center"><b>Pass</b></td>
      </tr>

      <tr class="treven">

        <td align="center">
          <a ng-href="index.php?{{cdash.linkparams}}">
            {{cdash.projectname}}
          </a>
          <a ng-href="index.php?{{cdash.linkparams}}&showfilters=1">
            <img border="0" src="images/filter.gif"/>
          </a>
        </td>

        <td align="center" ng-class="{'error': cdash.project.nconfigureerror > 0, 'normal': cdash.project.nconfigureerror == 0 && !(cdash.project.nconfigurewarning == 0 && cdash.project.nconfigurepass == 0)}">
          <span ng-show="cdash.project.nconfigureerror != 0 || cdash.project.nconfigurewarning != 0 || cdash.project.nconfigurepass != 0">
            {{cdash.project.nconfigureerror}}
          </span>
        </td>

        <td align="center" ng-class="{'warning': cdash.project.nconfigurewarning > 0, 'normal': cdash.project.nconfigurewarning == 0 && !(cdash.project.nconfigureerror == 0 && cdash.project.nconfigurepass == 0)}">
          <span ng-show="cdash.project.nconfigureerror != 0 || cdash.project.nconfigurewarning != 0 || cdash.project.nconfigurepass != 0">
            {{cdash.project.nconfigurewarning}}
          </span>
        </td>

        <td align="center" ng-class="{'normal': cdash.project.nconfigurepass != 0 || cdash.project.nconfigureerror != 0 || cdash.project.nconfigurewarning != 0}">
          <span ng-show="cdash.project.nconfigureerror != 0 || cdash.project.nconfigurewarning != 0 || cdash.project.nconfigurepass != 0">
            {{cdash.project.nconfigurepass}}
          </span>
        </td>

        <td align="center" ng-class="{'error': cdash.project.nbuilderror > 0, 'normal': cdash.project.nbuilderror == 0 && !(cdash.project.nbuildwarning == 0 && cdash.project.nbuildpass == 0)}">
          <span ng-show="cdash.project.nbuilderror != 0 || cdash.project.nbuildwarning != 0 || cdash.project.nbuildpass != 0">
          {{cdash.project.nbuilderror}}
          </span>
        </td>

        <td align="center" ng-class="{'warning': cdash.project.nbuildwarning > 0, 'normal': cdash.project.nbuildwarning == 0 && !(cdash.project.nbuilderror == 0 && cdash.project.nbuildpass == 0)}">
          <span ng-show="cdash.project.nbuilderror != 0 || cdash.project.nbuildwarning != 0 || cdash.project.nbuildpass != 0">
            {{cdash.project.nbuildwarning}}
          </span>
        </td>

        <td align="center" ng-class="{'normal': cdash.project.nbuildpass > 0}">
          <span ng-show="cdash.project.nbuilderror != 0 || cdash.project.nbuildwarning != 0 || cdash.project.nbuildpass != 0">
            {{cdash.project.nbuildpass}}
          </span>
        </td>

        <td align="center" ng-class="{'warning': cdash.project.ntestnotrun > 0, 'normal': cdash.project.ntestnotrun == 0 && (cdash.project.ntestpass != 0 || cdash.project.ntestfail != 0)}">
          <span ng-show="cdash.project.ntestfail != 0 || cdash.project.ntestpass != 0 || cdash.project.ntestnotrun != 0">
          {{cdash.project.ntestnotrun}}
          </span>
        </td>

        <td align="center" ng-class="{'error': cdash.project.ntestfail > 0, 'normal': cdash.project.ntestfail == 0 && (cdash.project.ntestnotrun != 0 || cdash.project.ntestpass != 0)}">
          <span ng-show="cdash.project.ntestfail != 0 || cdash.project.ntestpass != 0 || cdash.project.ntestnotrun != 0">
            {{cdash.project.ntestfail}}
          </span>
        </td>

        <td align="center" ng-class="{'normal': cdash.project.ntestpass > 0}">
          <span ng-show="cdash.project.ntestfail != 0 || cdash.project.ntestpass != 0 || cdash.project.ntestnotrun != 0">
            {{cdash.project.ntestpass}}
          </span>
        </td>

        <td ng-if="cdash.showlastsubmission" align="center" class="nob">
          {{cdash.project.lastsubmission}}
        </td>
      </tr>
    </table>

    <!-- SubProjects table -->
    <table border="0" cellpadding="4" cellspacing="0" width="100%" class="tabb" id="subproject">
      <thead>
        <tr class="table-heading1">
          <td colspan="11" align="left" class="nob"><h3>SubProjects</h3></td>
        </tr>
        <tr class="table-heading">
          <th align="center" rowspan="2" width="20%" id="sort_0"><b>Project</b></th>
          <td align="center" colspan="3" width="20%"><b>Configure</b></td>
          <td align="center" colspan="3" width="20%"><b>Build</b></td>
          <td align="center" colspan="3" width="20%"><b>Test</b></td>
          <th ng-if="cdash.showlastsubmission" align="center" rowspan="2" width="20%" class="nob" id="sort_10">
            <b>Last submission</b>
          </th>
        </tr>
        <tr class="table-heading">
          <th align="center" id="sort_1"><b>Error</b></th>
          <th align="center" id="sort_2"><b>Warning</b></th>
          <th align="center" id="sort_3"><b>Pass</b></th>
          <th align="center" id="sort_4"><b>Error</b></th>
          <th align="center" id="sort_5"><b>Warning</b></th>
          <th align="center" id="sort_6"><b>Pass</b></th>
          <th align="center" id="sort_7"><b>Not Run</b></th>
          <th align="center" id="sort_8"><b>Fail</b></th>
          <th align="center" id="sort_9"><b>Pass</b></th>
        </tr>
      </thead>

      <tbody>
        <tr ng-repeat="subproject in cdash.subprojects" ng-class-odd="'odd'" ng-class-even="'even'">
          <td align="center" >
            <a ng-href="index.php?subproject={{subproject.name_encoded}}&{{cdash.linkparams}}">
              {{subproject.name}}
            </a>
          </td>

          <td align="center" ng-class="{'error': subproject.nconfigureerror > 0, 'normal': subproject.nconfigureerror == 0 && !(subproject.nconfigurewarning == 0 && subproject.nconfigurepass == 0)}">
            <span ng-show="subproject.nconfigureerror != 0 || subproject.nconfigurewarning != 0 || subproject.nconfigurepass != 0">
              {{subproject.nconfigureerror}}
            </span>
          </td>

          <td align="center" ng-class="{'warning': subproject.nconfigurewarning > 0, 'normal': subproject.nconfigurewarning == 0 && !(subproject.nconfigureerror == 0 && subproject.nconfigurepass == 0)}">
            <span ng-show="subproject.nconfigureerror != 0 || subproject.nconfigurewarning != 0 || subproject.nconfigurepass != 0">
              {{subproject.nconfigurewarning}}
            </span>
          </td>

          <td align="center" ng-class="{'normal': subproject.nconfigureerror != 0 || subproject.nconfigurewarning != 0 || subproject.nconfigurepass != 0}">
            <span ng-show="subproject.nconfigureerror != 0 || subproject.nconfigurewarning != 0 || subproject.nconfigurepass != 0">
              {{subproject.nconfigurepass}}
            </span>
          </td>

          <td align="center" ng-class="{'error': subproject.nbuilderror > 0, 'normal': subproject.nbuilderror == 0 && !(subproject.nbuildwarning == 0 && subproject.nbuildpass == 0)}">
            <span ng-show="subproject.nbuilderror != 0 || subproject.nbuildwarning != 0 || subproject.nbuildpass != 0">
              {{subproject.nbuilderror}}
            </span>
          </td>

          <td align="center" ng-class="{'warning': subproject.nbuildwarning > 0, 'normal': subproject.nbuildwarning == 0 && !(subproject.nbuilderror == 0 && subproject.nbuildpass == 0)}">
            <span ng-show="subproject.nbuilderror != 0 || subproject.nbuildwarning != 0 || subproject.nbuildpass != 0">
              {{subproject.nbuildwarning}}
            </span>
          </td>

          <td align="center" ng-class="{'normal': subproject.nbuilderror != 0 || subproject.nbuildwarning != 0 || subproject.nbuildpass != 0}">
            <span ng-show="subproject.nbuilderror != 0 || subproject.nbuildwarning != 0 || subproject.nbuildpass != 0">
              {{subproject.nbuildpass}}
            </span>
          </td>

          <td align="center" ng-class="{'warning': subproject.ntestnotrun > 0, 'normal': subproject.ntestnotrun == 0 && (subproject.ntestfail != 0 || subproject.ntestpass != 0)}">
            <span ng-show="subproject.ntestfail != 0 || subproject.ntestpass != 0 || subproject.ntestnotrun != 0">
              {{subproject.ntestnotrun}}
            </span>
          </td>

          <td align="center" ng-class="{'error': subproject.ntestfail > 0, 'normal': subproject.ntestfail == 0 && (subproject.ntestpass != 0 || subproject.ntestnotrun != 0)}">
            <span ng-show="subproject.ntestfail != 0 || subproject.ntestpass != 0 || subproject.ntestnotrun != 0">
              {{subproject.ntestfail}}
            </span>
          </td>

          <td align="center" ng-class="{'normal': subproject.ntestpass}">
            <span ng-show="subproject.ntestfail != 0 || subproject.ntestpass != 0 || subproject.ntestnotrun != 0">
              {{subproject.ntestpass}}
            </span>
          </td>

          <td ng-if="cdash.showlastsubmission" align="center" class="nob">
            {{subproject.lastsubmission}}
          </td>
        </tr>
      </tbody>
    </table>

    <table width="100%" cellspacing="0" cellpadding="0">
      <tr>
        <td height="1" colspan="14" align="left" bgcolor="#888888"></td>
      </tr>
    </table>

    <br/>

    <!-- Links to view SubProject dependencies -->
    <a ng-href="viewSubProjectDependencies.php?{{cdash.linkparams}}">
      [View SubProject Dependencies]
    </a>
    <a ng-href="viewSubProjectDependenciesGraph.php?{{cdash.linkparams}}">
      [Graph]
    </a>

    <br/>
<!-- FOOTER -->
    <br/>
    <ng-include src="'views/partials/footer.html'"></ng-include>
  </body>
</html>
