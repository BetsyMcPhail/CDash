<table border="0" cellpadding="4" cellspacing="0" width="100%" class="tabb" id="subproject">
  <thead>
    <tr class="table-heading1">
      <td colspan="11" align="left" class="nob"><h3>{{cdash.tableName}}</h3></td>
    </tr>
    <tr class="table-heading">

      <th align="center" rowspan="2" width="20%" style="cursor: pointer" ng-click="updateOrderByFields('name', $event)">
        <b>SubProject</b>
        <span class="glyphicon" ng-class="orderByFields.indexOf ('-name') != -1 ? 'glyphicon-chevron-down' : (orderByFields.indexOf ('name') != -1 ? 'glyphicon-chevron-up' : 'glyphicon-none')"></span>
      </th>

      <td align="center" colspan="3" width="20%"><b>Configure</b></td>
      <td align="center" colspan="3" width="20%"><b>Build</b></td>
      <td align="center" colspan="3" width="20%"><b>Test</b></td>

      <th ng-if="cdash.showlastsubmission" align="center" rowspan="2" width="20%" class="nob" style="cursor: pointer" ng-click="updateOrderByFields('lastsubmission', $event)">
        <b>Last submission</b>
        <span class="glyphicon" ng-class="orderByFields.indexOf ('-lastsubmission') != -1 ? 'glyphicon-chevron-down' : (orderByFields.indexOf ('lastsubmission') != -1 ? 'glyphicon-chevron-up' : 'glyphicon-none')"></span>
      </th>

    </tr>
    <tr class="table-heading">

      <th align="center" style="cursor: pointer" ng-click="updateOrderByFields('nconfigureerror', $event)">
        <b>Error</b>
        <span class="glyphicon" ng-class="orderByFields.indexOf ('-nconfigureerror') != -1 ? 'glyphicon-chevron-down' : (orderByFields.indexOf ('nconfigureerror') != -1 ? 'glyphicon-chevron-up' : 'glyphicon-none')"></span>
      </th>

      <th align="center" style="cursor: pointer" ng-click="updateOrderByFields('nconfigurewarning', $event)">
        <b>Warning</b>
        <span class="glyphicon" ng-class="orderByFields.indexOf ('-nconfigurewarning') != -1 ? 'glyphicon-chevron-down' : (orderByFields.indexOf ('nconfigurewarning') != -1 ? 'glyphicon-chevron-up' : 'glyphicon-none')"></span>
      </th>

      <th align="center" style="cursor: pointer" ng-click="updateOrderByFields('nconfigurepass', $event)">
        <b>Pass</b>
        <span class="glyphicon" ng-class="orderByFields.indexOf ('-nconfigurepass') != -1 ? 'glyphicon-chevron-down' : (orderByFields.indexOf ('nconfigurepass') != -1 ? 'glyphicon-chevron-up' : 'glyphicon-none')"></span>
      </th>

      <th align="center" style="cursor: pointer" ng-click="updateOrderByFields('nbuilderror', $event)">
        <b>Error</b>
        <span class="glyphicon" ng-class="orderByFields.indexOf ('-nbuilderror') != -1 ? 'glyphicon-chevron-down' : (orderByFields.indexOf ('nbuilderror') != -1 ? 'glyphicon-chevron-up' : 'glyphicon-none')"></span>
      </th>

      <th align="center" style="cursor: pointer" ng-click="updateOrderByFields('nbuildwarning', $event)">
        <b>Warning</b>
        <span class="glyphicon" ng-class="orderByFields.indexOf ('-nbuildwarning') != -1 ? 'glyphicon-chevron-down' : (orderByFields.indexOf ('nbuildwarning') != -1 ? 'glyphicon-chevron-up' : 'glyphicon-none')"></span>
      </th>

      <th align="center" style="cursor: pointer" ng-click="updateOrderByFields('nbuildpass', $event)">
        <b>Pass</b>
        <span class="glyphicon" ng-class="orderByFields.indexOf ('-nbuildpass') != -1 ? 'glyphicon-chevron-down' : (orderByFields.indexOf ('nbuildpass') != -1 ? 'glyphicon-chevron-up' : 'glyphicon-none')"></span>
      </th>

      <th align="center" style="cursor: pointer" ng-click="updateOrderByFields('ntestnotrun', $event)">
        <b>Not Run</b>
        <span class="glyphicon" ng-class="orderByFields.indexOf ('-ntestnotrun') != -1 ? 'glyphicon-chevron-down' : (orderByFields.indexOf ('ntestnotrun') != -1 ? 'glyphicon-chevron-up' : 'glyphicon-none')"></span>
      </th>

      <th align="center" style="cursor: pointer" ng-click="updateOrderByFields('ntestfail', $event)">
        <b>Fail</b>
        <span class="glyphicon" ng-class="orderByFields.indexOf ('-ntestfail') != -1 ? 'glyphicon-chevron-down' : (orderByFields.indexOf ('ntestfail') != -1 ? 'glyphicon-chevron-up' : 'glyphicon-none')"></span>
      </th>

      <th align="center" style="cursor: pointer" ng-click="updateOrderByFields('ntestpass', $event)">
        <b>Pass</b>
        <span class="glyphicon" ng-class="orderByFields.indexOf ('-ntestpass') != -1 ? 'glyphicon-chevron-down' : (orderByFields.indexOf ('ntestpass') != -1 ? 'glyphicon-chevron-up' : 'glyphicon-none')"></span>
      </th>
    </tr>
  </thead>

  <tbody>
    <tr ng-repeat="subproject in cdash.subprojects |orderBy:orderByFields|showEmptySubProjectsLast:orderByFields" ng-class-odd="'odd'" ng-class-even="'even'">
      <td align="center" >
        <a ng-href="index.php?subproject={{subproject.name_encoded}}&{{cdash.linkparams}}">
          {{subproject.name}}
        </a>
      </td>

      <td align="center" ng-class="{'error': subproject.nconfigureerror > 0, 'normal': subproject.nconfigureerror == 0 && !(subproject.nconfigurewarning == 0 && subproject.nconfigurepass == 0)}">
        <span ng-show="subproject.nconfigureerror != 0 || subproject.nconfigurewarning != 0 || subproject.nconfigurepass != 0">
          {{subproject.nconfigureerror}}
        </span>
      </td>

      <td align="center" ng-class="{'warning': subproject.nconfigurewarning > 0, 'normal': subproject.nconfigurewarning == 0 && !(subproject.nconfigureerror == 0 && subproject.nconfigurepass == 0)}">
        <span ng-show="subproject.nconfigureerror != 0 || subproject.nconfigurewarning != 0 || subproject.nconfigurepass != 0">
          {{subproject.nconfigurewarning}}
        </span>
      </td>

      <td align="center" ng-class="{'normal': subproject.nconfigureerror != 0 || subproject.nconfigurewarning != 0 || subproject.nconfigurepass != 0}">
        <span ng-show="subproject.nconfigureerror != 0 || subproject.nconfigurewarning != 0 || subproject.nconfigurepass != 0">
          {{subproject.nconfigurepass}}
        </span>
      </td>

      <td align="center" ng-class="{'error': subproject.nbuilderror > 0, 'normal': subproject.nbuilderror == 0 && !(subproject.nbuildwarning == 0 && subproject.nbuildpass == 0)}">
        <span ng-show="subproject.nbuilderror != 0 || subproject.nbuildwarning != 0 || subproject.nbuildpass != 0">
          {{subproject.nbuilderror}}
        </span>
      </td>

      <td align="center" ng-class="{'warning': subproject.nbuildwarning > 0, 'normal': subproject.nbuildwarning == 0 && !(subproject.nbuilderror == 0 && subproject.nbuildpass == 0)}">
        <span ng-show="subproject.nbuilderror != 0 || subproject.nbuildwarning != 0 || subproject.nbuildpass != 0">
          {{subproject.nbuildwarning}}
        </span>
      </td>

      <td align="center" ng-class="{'normal': subproject.nbuilderror != 0 || subproject.nbuildwarning != 0 || subproject.nbuildpass != 0}">
        <span ng-show="subproject.nbuilderror != 0 || subproject.nbuildwarning != 0 || subproject.nbuildpass != 0">
          {{subproject.nbuildpass}}
        </span>
      </td>

      <td align="center" ng-class="{'warning': subproject.ntestnotrun > 0, 'normal': subproject.ntestnotrun == 0 && (subproject.ntestfail != 0 || subproject.ntestpass != 0)}">
        <span ng-show="subproject.ntestfail != 0 || subproject.ntestpass != 0 || subproject.ntestnotrun != 0">
          {{subproject.ntestnotrun}}
        </span>
      </td>

      <td align="center" ng-class="{'error': subproject.ntestfail > 0, 'normal': subproject.ntestfail == 0 && (subproject.ntestpass != 0 || subproject.ntestnotrun != 0)}">
        <span ng-show="subproject.ntestfail != 0 || subproject.ntestpass != 0 || subproject.ntestnotrun != 0">
          {{subproject.ntestfail}}
        </span>
      </td>

      <td align="center" ng-class="{'normal': subproject.ntestpass > 0 || subproject.ntestfail > 0 || subproject.ntestnotrun > 0}">
        <span ng-show="subproject.ntestfail != 0 || subproject.ntestpass != 0 || subproject.ntestnotrun != 0">
          {{subproject.ntestpass}}
        </span>
      </td>

      <td ng-if="cdash.showlastsubmission" align="center" class="nob">
        {{subproject.lastsubmission}}
      </td>
    </tr>
  </tbody>
</table>
